Content of directory:

	corrections - Fixes to cuIBM to fix performance problems from the sequence specified in SC paper. Copy files in folder directly into cuIBM directory.

	diogenes_datafiles - Data files generated by Diogenes for the original SC 2019 run (original driver). These are included such that someone can view the results without having to install Diogenes (which is a pain to do currently) and without having to do a full run with Diogenes (potentially greater than 8 hours of runtime). See readme in folder to view run.


Applying corrections:

	copy corrections/cuIBM.cu to folder ./src/ of cuIBM main directory.
	copy corrections/spmv.cu to folder ./cusp/system/detail/generic/multiply/ of cuIBM main directory.

NOTE: Program outputs are taken from runs taken after the SC 2019 publication of Diogenes with an updated GPU driver. Due to the driver change, performance benefit in total execution time for the corrected version is greater in comparison to the SC 2019 publication (330s vs 379s). Diogenes datafiles are still from the original SC run and will be updated at some point in the near future for the current driver version. 

cuIBM original run:
	Parsing YAML file with simulation parameters ...
	Parsing YAML file with flow conditions ...
	Parsing YAML file with grid info ...

	Flow parameters
	---------------
	nu = 0.0002

	Domain
	------
	192 x 192

	Simulation parameters
	---------------------
	dt = 0.002
	scaleCV = 5
	startStep = 0
	nt = 60000
	nsave = 60000
	Convection time scheme = 2nd Order Adams-Bashforth
	Diffusion time scheme  = Crank-Nicolson

	Velocity Solve
	--------------
	Solver = BICGSTAB
	Preconditioner = Diagonal
	Relative tolerance = 1e-05
	Absolute tolerance = 0

	Poisson Solve
	-------------
	Solver = CG
	Preconditioner = Smoothed Aggregation
	Relative tolerance = 1e-05
	Absolute tolerance = 0

	Output parameters
	-----------------
	Output folder = .
	nsave = 60000

	Device Properties
	-----------------
	Name = Tesla P100-SXM2-16GB
	Number = 0
	Compute capability = 6.0
	ECC Enabled = yes

	Immersed Boundary Method
	------------------------
	Navier-Stokes

	Initializing Navier-Stokes solver ...
	Initializing common parts ...
	Initializing arrays ...
	Initializing matrices ...
	Initialization complete: Memory Usage 0.306 / 15.9 GB

	Data saved to folder ./0060000

	        assembleMatrices       0.0055
	            assembleRHS1       0.3793
	            assembleRHS2       7.3786
	             generateBC1       2.4980
	               generateC       0.0109
	              generateQT       0.0025
	              generateRN       1.7086
	        initialiseArrays       0.0205
	        initialiseCommon       0.0042
	                  output       0.4260
	         preconditioner2       0.0549
	          projectionStep      13.5975
	    solveIntermediateVel     126.2292
	            solvePoisson    1668.4284
	-------------------------------------
	                   TOTAL    1820.7439


Corrected cuIBM numbers:

	Parsing YAML file with simulation parameters ...
	Parsing YAML file with flow conditions ...
	Parsing YAML file with grid info ...


	Flow parameters
	---------------
	nu = 0.0002

	Domain
	------
	192 x 192

	Simulation parameters
	---------------------
	dt = 0.002
	scaleCV = 5
	startStep = 0
	nt = 60000
	nsave = 60000
	Convection time scheme = 2nd Order Adams-Bashforth
	Diffusion time scheme  = Crank-Nicolson

	Velocity Solve
	--------------
	Solver = BICGSTAB
	Preconditioner = Diagonal
	Relative tolerance = 1e-05
	Absolute tolerance = 0

	Poisson Solve
	-------------
	Solver = CG
	Preconditioner = Smoothed Aggregation
	Relative tolerance = 1e-05
	Absolute tolerance = 0

	Output parameters
	-----------------
	Output folder = .
	nsave = 60000

	Device Properties
	-----------------
	Name = Tesla P100-SXM2-16GB
	Number = 0
	Compute capability = 6.0
	ECC Enabled = yes

	Immersed Boundary Method
	------------------------
	Navier-Stokes

	Initializing Navier-Stokes solver ...
	Initializing common parts ...
	Initializing arrays ...
	Initializing matrices ...
	Allocing 147456
	Allocing 294912
	Allocing 20760
	Allocing 41520
	Allocing 1324
	Allocing 2648
	Initialization complete: Memory Usage 0.306 / 15.9 GB

	Allocing 293376
	Allocing 586752


	Data saved to folder ./0060000

	        assembleMatrices       0.0055
	            assembleRHS1       0.3806
	            assembleRHS2       6.0133
	             generateBC1       2.4854
	               generateC       0.0108
	              generateQT       0.0025
	              generateRN       1.7040
	        initialiseArrays       0.0183
	        initialiseCommon       0.0042
	                  output       0.4012
	         preconditioner2       0.0547
	          projectionStep      10.8481
	    solveIntermediateVel      58.7211
	            solvePoisson    1360.4914
	-------------------------------------
	                   TOTAL    1441.1412
